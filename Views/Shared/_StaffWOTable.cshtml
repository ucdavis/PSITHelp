@model List<ITHelp.Models.WorkOrders>

<table class="table datatable table-striped">
    <thead>
        <tr>
            <th></th>
            <th>Title</th>
            <th>Full Text</th>
            <th>Requested</th>
            <th>Due</th>
            <th>Requester</th>
            <th>Tech</th>
            <th>Status</th>
            <th>Diff</th>
            <th>Review?</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr class="blah @((item.Status ==2 || item.Status == 3) ? "table-info" : (item.DueDate.HasValue && item.DueDate < DateTime.Now) ? "table-danger" : "")">

                <td><a asp-action="details" asp-route-id="@item.Id">@item.Id</a></td>
                <td>@item.Title</td>
                <td>@item.FullText</td>
                @if(item.RequestDate.HasValue)
                {
                    <td data-sort="@item.RequestDate.Value.ToFileTimeUtc()">@item.RequestDate.Value.ToShortDateString()</td>
                } else
                {
                    <td></td>
                }
                
                @if(item.DueDate.HasValue)
                {
                    <td data-sort="@item.DueDate.Value.ToFileTimeUtc()">@item.DueDate.Value.ToShortDateString()</td>
                } else
                {
                    <td></td>
                }
                <td>@item.RequestorValue</td>
                <td>@item.Tech?.Name</td>
                <td>@item.StatusTranslate?.StatusTranslated</td>
                <td>@item.Difficulty</td>
                <td data-sort="@item.Review"><input type="checkbox" asp-for="@item.Review" disabled class="form-check-input" /></td>
            </tr>
        }
    </tbody>
</table>
